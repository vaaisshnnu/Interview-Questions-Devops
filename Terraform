‚úÖ Terraform ‚Äî Top Interview Questions & Answers

1. What is Terraform and how is it different from other IaC tools like CloudFormation or Ansible?

Answer:
Terraform is an open-source Infrastructure-as-Code (IaC) tool created by HashiCorp. It provisions and manages infrastructure using declarative configuration files.
Differences:
Terraform vs CloudFormation: CloudFormation is AWS-only; Terraform is multi-cloud.
Terraform vs Ansible: Ansible is configuration management; Terraform handles infrastructure provisioning.
Terraform uses state files to track resources; Ansible is mostly stateless.

2. What is a Terraform state file and why is it important?

Answer:
The state file (terraform.tfstate) stores the mapping between Terraform configuration and real cloud resources.

It is important because:
Terraform uses it to determine what changes to apply.
Helps detect drift.
Required for collaboration.
Remote state enables team access and locking.

3. What is ‚ÄúTerraform Remote State,‚Äù and why do we use it?

Remote state stores the tfstate file in backend providers such as S3, Azure Blob, GCS, Terraform Cloud, etc.

Benefits:
Enables team collaboration
Prevents conflicts with state locking (e.g., S3 + DynamoDB)
More secure than local storage
Allows state sharing across projects/modules

4. Explain the difference between a Terraform module and a resource.

Resource: The smallest building block (e.g., aws_instance, azurerm_vm).
Module: A collection of resources grouped together, reusable and shareable.
Terraform always has a root module, and additional child modules can be created or pulled from the registry.

5. What is the workflow of Terraform (init ‚Üí plan ‚Üí apply)?

terraform init ‚Äî Downloads providers & initializes backend
terraform plan ‚Äî Shows what Terraform will create/change/destroy
terraform apply ‚Äî Executes changes
terraform destroy ‚Äî Removes resources created by Terraform

This workflow ensures safe, predictable infrastructure deployments.

6. What are Terraform Providers? How do they work?

Providers are plugins that allow Terraform to interact with APIs (AWS, Azure, Kubernetes, GitHub, etc.)

They:
Authenticate with the platform
Provide resource types
Translate Terraform commands into API calls

Examples:
aws, azurerm, kubernetes, helm, docker

7. What are Variables & Outputs in Terraform?

Variables (variables.tf): Inputs to make configurations dynamic.
Types: string, number, bool, list, map, object.
Outputs (outputs.tf): Display or expose data after apply.

Used for:
Passing values between modules
Displaying resource attributes (e.g., IP address)

8. What is Tainting in Terraform?

terraform taint <resource> marks a resource as tainted, forcing Terraform to recreate it during the next apply.

Useful for:
Fixing corrupted resources
Forcing replacement without modifying code
Note: In v0.15+, taint is deprecated in favor of -replace.

9. How does Terraform handle dependencies between resources?

Terraform automatically determines dependencies using:
Implicit dependency: References using attributes (recommended)

Example:
instance_id = aws_instance.web.id
Explicit dependency: Using depends_on
depends_on = [aws_vpc.main]

Terraform‚Äôs DAG (Directed Acyclic Graph) ensures resources are created in the correct order.

10. How do you manage different environments (dev, qa, prod) in Terraform?

Common methods:
Workspaces ‚Äì Keep the same config but different state
Separate folders per environment ‚Äì Most popular
Modules + variable files

Example:
terraform apply -var-file="prod.tfvars"
Terragrunt ‚Äì Wrapper for multi-environment automation

11. What is Terraform and why is it used?

Terraform is an Infrastructure as Code (IaC) tool used to provision and manage cloud infrastructure in a declarative manner.
It is used because it is:
Multi-cloud compatible (AWS, Azure, GCP, VMware, Kubernetes, etc.)
Supports idempotent deployments
Uses a state file to track actual infrastructure
Enables automation, versioning, repeatability, and consistency

12. What is a Terraform Provider?

A provider is a plugin that tells Terraform how to interact with an external service.

Examples:
AWS (hashicorp/aws)
Azure (hashicorp/azurerm)
Kubernetes (hashicorp/kubernetes)
Docker (kreuzwerker/docker)

It handles authentication, API calls, and resource creation.

13. What is a Terraform Module?

A module is a reusable collection of Terraform resources.

Types:
Root module ‚Äì main working directory
Child module ‚Äì called using module { }
Registry modules ‚Äì reusable community modules
Modules help maintain clean, DRY, reusable IaC code.

14. Explain Terraform State. Why is it important?

terraform.tfstate stores a snapshot of real cloud resources.

It is important because:
Detects what changed
Tracks metadata (IDs, dependencies)
Allows Terraform to plan and apply safely
Needed for collaboration
Never store it in Git.

15. What is Remote State and why do we use it?

Remote state stores tfstate on remote services like:
AWS S3 + DynamoDB (locking)
Azure Blob Storage
Terraform Cloud
Google Cloud Storage

Benefits:
Centralized access
State locking
Secure and team-friendly

16. What is Terraform Plan vs Apply?

terraform plan: Shows what Terraform will create, modify, or destroy.
terraform apply: Executes the changes.
Plan is read-only; apply changes real infrastructure.

17. How do you handle sensitive values in Terraform?

Use sensitive = true in variable definitions
Store secrets in AWS Secrets Manager, Azure Key Vault, etc.
Use .tfvars files for sensitive inputs
Do NOT commit .tfvars to Git
Use remote backends with encryption

18. What is Terraform Workspace?

Workspaces allow multiple states for the same configuration.

Example:
terraform workspace new dev
terraform workspace new prod

Useful for:
dev/test/prod
multi-tenant deployments

19. What is the difference between count and for_each?

count ‚Üí index-based, good for identical resources
for_each ‚Üí key-value based, for complex + named resources

Example:
count = 3
vs.
for_each = toset(["dev","stage","prod"])

20. What happens during terraform init?

Terraform initializes the working directory by:
Downloading providers
Setting up backend
Installing required modules
Validating the configuration
It must be run before plan and apply.

---

1Ô∏è‚É£ What is Terraform state?

Terraform state is a file (terraform.tfstate) that stores the current real-world infrastructure and maps it to your Terraform configuration.
It helps Terraform understand what resources exist, track metadata, detect drift, and plan updates.

In interview terms:
‚ÄúState is the single source of truth for Terraform.‚Äù

2Ô∏è‚É£ What is a backend?

A backend tells Terraform where and how to store state.

Examples:
local (default) ‚Üí state stored locally
s3 + dynamodb ‚Üí remote storage + locking
azurerm, gcs, consul ‚Üí cloud backends

Why important:
Backends enable collaboration, remote locking, and secure storage.

3Ô∏è‚É£ What are providers?

Providers are plugins used by Terraform to interact with cloud platforms or services.

Examples:
AWS, Azure, GCP
Kubernetes provider
Helm provider
Datadog/Splunk provider
Providers expose resources and data sources.

4Ô∏è‚É£ What are Terraform modules?

Modules are reusable Terraform configuration groups.

A module can:
standardize resource creation
enforce best practices
reduce duplicated code

You can use:
public modules (Terraform Registry)
local modules

private module registries

5Ô∏è‚É£ terraform plan vs terraform apply
Command	Purpose
terraform plan	Shows changes Terraform will make (preview).
terraform apply	Executes the changes and updates the infrastructure.

Important:
apply always updates the state file afterward.

6Ô∏è‚É£ What are lifecycle rules?

Lifecycle rules allow you to control how Terraform manages resources.

Common rules:
create_before_destroy
prevent_destroy
ignore_changes

Example:

lifecycle {
  prevent_destroy = true
}

Used to avoid accidental deletion.

7Ô∏è‚É£ What are workspaces?

Workspaces allow you to maintain multiple state files for the same configuration.

Example use cases:
dev / stage / prod
blue / green deployments

Important:
Workspaces ‚â† good replacement for modules.
Workspaces help when environments are similar.

8Ô∏è‚É£ What is remote state locking?

Remote locking prevents multiple people or jobs (CI/CD) from modifying state at the same time.

Example:
AWS S3 + DynamoDB for locking
Azure Blob + leases
GCS + locking mechanisms
If locking is not used ‚Üí state corruption may occur.

9Ô∏è‚É£ What is tfvars used for?

*.tfvars files store variable values separately from the main configuration.

Example:
dev.tfvars
prod.tfvars
Loaded with:
terraform apply -var-file="dev.tfvars"
Helps maintain clean and environment-specific configs.

üîü How to handle sensitive data in Terraform?

Best practices:
Use sensitive = true for outputs
Use secret stores (Vault, AWS Secrets Manager, Azure Key Vault)
Never hard-code credentials
Use environment variables
Store state in encrypted backend (S3, Azure Blob, GCS)


üî• MUST KNOW QUESTIONS (Interview Favorites) üî•

‚úî What happens if Terraform state is deleted?
If the state file is deleted, Terraform loses track of existing resources.

Effects:
Terraform will treat all resources as new ‚Üí may try to recreate them
You cannot import or manage previously created infrastructure
Causes drift and duplicate resources

Fix:
Use terraform import to recreate the state or restore from backup.

‚úî How do you avoid configuration drift?
Drift = when real infrastructure differs from Terraform state.

Ways to avoid:
Always use Terraform, never modify cloud resources manually.
Use CI/CD pipelines for automated terraform apply.
Use drift detection (Terraform Cloud, Atlantis, Spacelift).
Enable remote state + state locking.
Regularly run:   terraform plan
to identify drift.
